"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stream/route";
exports.ids = ["app/api/stream/route"];
exports.modules = {

/***/ "@distube/ytdl-core":
/*!*************************************!*\
  !*** external "@distube/ytdl-core" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("@distube/ytdl-core");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=D%3A%5CArk_3%5CYTBCloneVideo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CArk_3%5CYTBCloneVideo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=D%3A%5CArk_3%5CYTBCloneVideo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CArk_3%5CYTBCloneVideo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Ark_3_YTBCloneVideo_src_app_api_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/stream/route.ts */ \"(rsc)/./src/app/api/stream/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stream/route\",\n        pathname: \"/api/stream\",\n        filename: \"route\",\n        bundlePath: \"app/api/stream/route\"\n    },\n    resolvedPagePath: \"D:\\\\Ark_3\\\\YTBCloneVideo\\\\src\\\\app\\\\api\\\\stream\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Ark_3_YTBCloneVideo_src_app_api_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/stream/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdHJlYW0lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQXJrXzMlNUNZVEJDbG9uZVZpZGVvJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDQXJrXzMlNUNZVEJDbG9uZVZpZGVvJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNTO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaWFudHViZS8/M2JlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxBcmtfM1xcXFxZVEJDbG9uZVZpZGVvXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHN0cmVhbVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3RyZWFtL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RyZWFtXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zdHJlYW0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxBcmtfM1xcXFxZVEJDbG9uZVZpZGVvXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHN0cmVhbVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc3RyZWFtL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=D%3A%5CArk_3%5CYTBCloneVideo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CArk_3%5CYTBCloneVideo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/stream/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/stream/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @distube/ytdl-core */ \"@distube/ytdl-core\");\n/* harmony import */ var _distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst dynamic = \"force-dynamic\";\nasync function GET(req) {\n    const searchParams = req.nextUrl.searchParams;\n    const videoId = searchParams.get(\"videoId\");\n    const type = searchParams.get(\"type\") || \"video\"; // 'video' hoáº·c 'audio'\n    if (!videoId) {\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Missing videoId parameter\", {\n            status: 400\n        });\n    }\n    // Validate videoId format\n    if (!/^[a-zA-Z0-9_-]{11}$/.test(videoId)) {\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Invalid videoId format\", {\n            status: 400\n        });\n    }\n    try {\n        const videoUrl = `https://www.youtube.com/watch?v=${videoId}`;\n        // Get video info\n        const info = await _distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1___default().getInfo(videoUrl);\n        // Choose format based on type\n        let format;\n        if (type === \"audio\") {\n            // Audio only - saves bandwidth significantly (~128kbps vs several Mbps)\n            format = _distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1___default().chooseFormat(info.formats, {\n                quality: \"highestaudio\",\n                filter: \"audioonly\"\n            });\n        } else {\n            // Video + Audio combined - quality 18 is 360p MP4 (smooth, server-friendly)\n            // Try to get format with both video and audio\n            format = _distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1___default().chooseFormat(info.formats, {\n                quality: \"18\",\n                filter: \"audioandvideo\"\n            });\n            // Fallback to best available if 360p not available\n            if (!format) {\n                format = _distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1___default().chooseFormat(info.formats, {\n                    quality: \"lowest\",\n                    filter: \"audioandvideo\"\n                });\n            }\n        }\n        if (!format) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"No suitable format found\", {\n                status: 404\n            });\n        }\n        // Set response headers\n        const headers = new Headers();\n        headers.set(\"Content-Type\", type === \"audio\" ? \"audio/webm\" : \"video/mp4\");\n        headers.set(\"Accept-Ranges\", \"bytes\");\n        if (format.contentLength) {\n            headers.set(\"Content-Length\", format.contentLength);\n        }\n        // Create readable stream from ytdl\n        const stream = _distube_ytdl_core__WEBPACK_IMPORTED_MODULE_1___default().downloadFromInfo(info, {\n            format\n        });\n        // Convert Node.js stream to Web ReadableStream\n        const readable = new ReadableStream({\n            start (controller) {\n                stream.on(\"data\", (chunk)=>{\n                    controller.enqueue(new Uint8Array(chunk));\n                });\n                stream.on(\"end\", ()=>{\n                    controller.close();\n                });\n                stream.on(\"error\", (err)=>{\n                    console.error(\"Stream error:\", err);\n                    controller.error(err);\n                });\n            },\n            cancel () {\n                stream.destroy();\n            }\n        });\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(readable, {\n            headers,\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Stream API Error:\", error);\n        // Handle specific ytdl errors\n        if (error.message?.includes(\"Video unavailable\")) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Video not available\", {\n                status: 404\n            });\n        }\n        if (error.message?.includes(\"Sign in\")) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Age-restricted or private video\", {\n                status: 403\n            });\n        }\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(`Stream error: ${error.message}`, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNRyxPQUFPLEVBQUVDLFNBQVMsWUFBWTtZQUNwQyxPQUFPLElBQUl6QyxxREFBWUEsQ0FBQyxtQ0FBbUM7Z0JBQUVVLFFBQVE7WUFBSTtRQUM3RTtRQUVBLE9BQU8sSUFBSVYscURBQVlBLENBQUMsQ0FBQyxjQUFjLEVBQUVxQyxNQUFNRyxPQUFPLENBQUMsQ0FBQyxFQUFFO1lBQUU5QixRQUFRO1FBQUk7SUFDNUU7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2lhbnR1YmUvLi9zcmMvYXBwL2FwaS9zdHJlYW0vcm91dGUudHM/NmRjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeXRkbCBmcm9tICdAZGlzdHViZS95dGRsLWNvcmUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHJlcS5uZXh0VXJsLnNlYXJjaFBhcmFtcztcclxuICAgIGNvbnN0IHZpZGVvSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCd2aWRlb0lkJyk7XHJcbiAgICBjb25zdCB0eXBlID0gc2VhcmNoUGFyYW1zLmdldCgndHlwZScpIHx8ICd2aWRlbyc7IC8vICd2aWRlbycgaG/hurdjICdhdWRpbydcclxuXHJcbiAgICBpZiAoIXZpZGVvSWQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnTWlzc2luZyB2aWRlb0lkIHBhcmFtZXRlcicsIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmFsaWRhdGUgdmlkZW9JZCBmb3JtYXRcclxuICAgIGlmICghL15bYS16QS1aMC05Xy1dezExfSQvLnRlc3QodmlkZW9JZCkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnSW52YWxpZCB2aWRlb0lkIGZvcm1hdCcsIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB2aWRlb1VybCA9IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PSR7dmlkZW9JZH1gO1xyXG5cclxuICAgICAgICAvLyBHZXQgdmlkZW8gaW5mb1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCB5dGRsLmdldEluZm8odmlkZW9VcmwpO1xyXG5cclxuICAgICAgICAvLyBDaG9vc2UgZm9ybWF0IGJhc2VkIG9uIHR5cGVcclxuICAgICAgICBsZXQgZm9ybWF0O1xyXG4gICAgICAgIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XHJcbiAgICAgICAgICAgIC8vIEF1ZGlvIG9ubHkgLSBzYXZlcyBiYW5kd2lkdGggc2lnbmlmaWNhbnRseSAofjEyOGticHMgdnMgc2V2ZXJhbCBNYnBzKVxyXG4gICAgICAgICAgICBmb3JtYXQgPSB5dGRsLmNob29zZUZvcm1hdChpbmZvLmZvcm1hdHMsIHtcclxuICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdoaWdoZXN0YXVkaW8nLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyOiAnYXVkaW9vbmx5J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBWaWRlbyArIEF1ZGlvIGNvbWJpbmVkIC0gcXVhbGl0eSAxOCBpcyAzNjBwIE1QNCAoc21vb3RoLCBzZXJ2ZXItZnJpZW5kbHkpXHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgZm9ybWF0IHdpdGggYm90aCB2aWRlbyBhbmQgYXVkaW9cclxuICAgICAgICAgICAgZm9ybWF0ID0geXRkbC5jaG9vc2VGb3JtYXQoaW5mby5mb3JtYXRzLCB7XHJcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiAnMTgnLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyOiAnYXVkaW9hbmR2aWRlbydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBiZXN0IGF2YWlsYWJsZSBpZiAzNjBwIG5vdCBhdmFpbGFibGVcclxuICAgICAgICAgICAgaWYgKCFmb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHl0ZGwuY2hvb3NlRm9ybWF0KGluZm8uZm9ybWF0cywge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6ICdsb3dlc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcjogJ2F1ZGlvYW5kdmlkZW8nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFmb3JtYXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoJ05vIHN1aXRhYmxlIGZvcm1hdCBmb3VuZCcsIHsgc3RhdHVzOiA0MDQgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgcmVzcG9uc2UgaGVhZGVyc1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCB0eXBlID09PSAnYXVkaW8nID8gJ2F1ZGlvL3dlYm0nIDogJ3ZpZGVvL21wNCcpO1xyXG4gICAgICAgIGhlYWRlcnMuc2V0KCdBY2NlcHQtUmFuZ2VzJywgJ2J5dGVzJyk7XHJcblxyXG4gICAgICAgIGlmIChmb3JtYXQuY29udGVudExlbmd0aCkge1xyXG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1MZW5ndGgnLCBmb3JtYXQuY29udGVudExlbmd0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgcmVhZGFibGUgc3RyZWFtIGZyb20geXRkbFxyXG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHl0ZGwuZG93bmxvYWRGcm9tSW5mbyhpbmZvLCB7IGZvcm1hdCB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBOb2RlLmpzIHN0cmVhbSB0byBXZWIgUmVhZGFibGVTdHJlYW1cclxuICAgICAgICBjb25zdCByZWFkYWJsZSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XHJcbiAgICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgICAgIHN0cmVhbS5vbignZGF0YScsIChjaHVuazogQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KGNodW5rKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHN0cmVhbS5vbignZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc3RyZWFtLm9uKCdlcnJvcicsIChlcnI6IEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbmNlbCgpIHtcclxuICAgICAgICAgICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UocmVhZGFibGUsIHtcclxuICAgICAgICAgICAgaGVhZGVycyxcclxuICAgICAgICAgICAgc3RhdHVzOiAyMDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtIEFQSSBFcnJvcjonLCBlcnJvcik7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWZpYyB5dGRsIGVycm9yc1xyXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnVmlkZW8gdW5hdmFpbGFibGUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnVmlkZW8gbm90IGF2YWlsYWJsZScsIHsgc3RhdHVzOiA0MDQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnU2lnbiBpbicpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKCdBZ2UtcmVzdHJpY3RlZCBvciBwcml2YXRlIHZpZGVvJywgeyBzdGF0dXM6IDQwMyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKGBTdHJlYW0gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ5dGRsIiwiZHluYW1pYyIsIkdFVCIsInJlcSIsInNlYXJjaFBhcmFtcyIsIm5leHRVcmwiLCJ2aWRlb0lkIiwiZ2V0IiwidHlwZSIsInN0YXR1cyIsInRlc3QiLCJ2aWRlb1VybCIsImluZm8iLCJnZXRJbmZvIiwiZm9ybWF0IiwiY2hvb3NlRm9ybWF0IiwiZm9ybWF0cyIsInF1YWxpdHkiLCJmaWx0ZXIiLCJoZWFkZXJzIiwiSGVhZGVycyIsInNldCIsImNvbnRlbnRMZW5ndGgiLCJzdHJlYW0iLCJkb3dubG9hZEZyb21JbmZvIiwicmVhZGFibGUiLCJSZWFkYWJsZVN0cmVhbSIsInN0YXJ0IiwiY29udHJvbGxlciIsIm9uIiwiY2h1bmsiLCJlbnF1ZXVlIiwiVWludDhBcnJheSIsImNsb3NlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2FuY2VsIiwiZGVzdHJveSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/stream/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=D%3A%5CArk_3%5CYTBCloneVideo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CArk_3%5CYTBCloneVideo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();